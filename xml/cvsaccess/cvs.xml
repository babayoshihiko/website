<?xml version="1.0" encoding="iso-8859-1"?>
<!DOCTYPE article SYSTEM "../finkdoc.dtd">

<article filename="index">
<title>Setting up Fink CVS Access</title>
<shorttitle>Fink CVS Access</shorttitle>
<cvsid>$Id: cvs.xml,v 1.7 2002/04/13 21:14:20 fingolfin Exp $</cvsid>

<preface>
<p>
Fink is developed via CVS.
This means that you can stay up to date between releases and always
get the newest stuff.
This page tells you how to set up an existing Fink installation for
updating via CVS.
The information on this page applies to Fink 0.2.x and later.
</p>
</preface>


<section><title>Fink CVS Structure</title>
<p>Fink has two CVS modules. The module <code>fink</code> (<link
url="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/fink/fink/">ViewCVS</link>)
contains the package manager plus the stuff needed for bootstrap. The
module <code>packages</code> (<link
url="http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/fink/packages/">ViewCVS</link>)
contains the package descriptions and patches. In theory, these two
are separate entities and can be updated independently. In practice,
however, you should always keep both up to date because sometimes
packages (in the packages module) use new features in the package
manager (in the fink module) that have recently been added. They will
misbehave when those features are not supported...</p>
</section>

<section><title>Updating the Package Manager</title>
<p>
<em>Note:</em> As of September 20 it is no longer necessary to update
the package manager separately; it is treated like any other package.
It's still possible to update it directly from CVS, though.
</p>

<p>The package manager must be updated through a separate directory
and the <code>inject.pl</code> script. That script puts package
descriptions and tarballs for the fink and base-files packages in your
Fink tree and builds them.</p>
<p>For the first time procedure, you need a temporary directory
(called <code>tempdir</code> in the example) which is empty (or at least
doesn't contain a subdirectory named 'fink'). The procedure goes like
this:</p>
<codeblock>cd tempdir
cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/fink login
cvs -z3 -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/fink co fink
cd fink
./inject.pl</codeblock>
<p>The login command will ask for a password - just press return. You
could delete the temporary directory after the procedure, but if you
leave it around, updating is easier the next time. The procedure is
then:</p>
<codeblock>cd tempdir/fink
cvs -z3 update -d
./inject.pl</codeblock>
</section>

<section><title>Updating the Package Descriptions</title>
<p>The procedure for the package descriptions is almost identical. The
main difference is that the <code>inject.pl</code> script just copies the
descriptions into your Fink installation. To build the new packages,
you must use regular fink commands, like <code>fink update-all</code> or
<code>fink update <em>&lt;package&gt;</em></code>.</p>
<p>The first time procedure:</p>
<codeblock>cd tempdir
cvs -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/fink login
cvs -z3 -d:pserver:anonymous@cvs.sourceforge.net:/cvsroot/fink co packages
cd packages
./inject.pl</codeblock>
<p>After doing the above once, you can use this:</p>
<codeblock>cd tempdir/packages
cvs -z3 update -d
./inject.pl</codeblock>

<p> </p>
<p>more to be written...</p>
</section>

</article>
